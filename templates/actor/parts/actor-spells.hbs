<ol class="items-list">
  {{#each spells as |attr spellCircle|}}
    <li class="item flexrow items-header">
      <div class="item-name">{{ attr.name }}</div>
      <div class="item-controls">
        <a class="item-control item-create" title="Create item" data-type="spell" data-spell-circle="{{spellCircle}}"><i class="fas fa-plus"></i> {{localize 'CMHV.Add'}}</a>
      </div>
    </li>
    {{#each attr.levels as |spells spellLevel|}}
    <!-- Only shows if there is at least one spell -->
    {{#if spells.[0]}}
    <li class="item flexrow items-subheader">
      <div class="item-name">{{localize 'CMHV.Level'}} {{spellLevel}}</div>
      <div class="item-control">{{ localize "CMHV.Cost" }}</div>
      <div class="item-controls">
        <a class="item-control item-create" title="Create item" data-type="spell" data-spell-circle="{{spellCircle}}" data-spell-level="{{spellLevel}}"><i class="fas fa-plus"></i> {{localize 'CMHV.Add'}}</a>
      </div>
    </li>
      {{#each spells as |item id|}}
        <li class="item flexrow item-sub" data-item-id="{{item._id}}">
          <div class="item-name flexrow">
            <div class="item-image">
              <a class="rollable" data-roll-type="item"><img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/></a>
            </div>
            <h4>{{item.name}}</h4>
          </div>
          <div class="item-control item-prop">{{item.data.cost}}</div>
          <div class="item-controls">
            <a class="item-control item-edit" title="Edit Item"><i class="fas fa-edit"></i></a>
            <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
          </div>
        </li>
      {{/each}}
    {{/if}}
    {{/each}}
  {{/each}}
</ol>